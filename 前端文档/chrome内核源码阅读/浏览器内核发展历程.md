### 导读

本文内容属于chrome内核阅读合集的一个章节，chrome内核阅读包含了从内核获取到内核解析等一系列内容，能帮助读者深入的理解chrome内核工作原理，其中就有包含浏览器的渲染过程以及v8编译原理等前端基本功知识，对入门和进阶前端技术都会有所帮助。

[点我去到chrome内核阅读导览页面~~](https://www.unstoppable840.cn/article/5d6dd813-2aaa-4991-a91f-e7765f2304da)

### 浏览器内核介绍

浏览器内核又被称为浏览器引擎，它被用于解析HTML、XML等标记语言并将其渲染成相应的界面。

学习前端知识我们知道，HTML就类似于界面的框架，每个HTML标签都可以作为一个盒子放置在界面中，而这些标签之所以拥有盒子的模样就是依靠CSS。新人可能会产生疑惑，明明我没写CSS但为什么HTML任然能将其解析成盒子呢？实际上是浏览器内核会给每个HTML标签一个默认的CSS属性，使其拥有初始化结构，这些初始化的CSS属性又被称为**用户代理样式**，其他的还有作者样式和用户样式，这些样式代表CSS计算优先级，在CSS计算中会存在**覆盖**的效果，这里就不对CSS做过多赘述，想了解更多请看[CSS级联]()。

读到这里，相信读者对浏览器内核所做的工作已经有了初步的认识，在早期还不存在脚本语言的时候，网站只能是静态页面，而**浏览器内核主要的工作就是根据HTML与CSS将页面给画出来**。而不同浏览器内核对CSS的初始化或者具体怎么表现到页面上都是有所差异的，所以会存在兼容问题，这也是前端开发的一个痛点。

### 浏览器内核发展历程

浏览器内核最早是由网景公司创立的Mozilla社区所开发的，其代号为[Gecko](https://zh.wikipedia.org/wiki/Gecko)，也是目前主流浏览器FireFox的内核。

在之后KDE的[开放源代码](https://zh.wikipedia.org/wiki/開放原始碼)[KHTML](https://zh.wikipedia.org/wiki/KHTML)引擎在KDE的[Konqueror](https://zh.wikipedia.org/wiki/Konqueror)网页浏览器使用，后来成为[WebKit](https://zh.wikipedia.org/wiki/WebKit)的基础，WebKit是[Apple Safari](https://zh.wikipedia.org/wiki/Apple_Safari)和早期[Google Chrome](https://zh.wikipedia.org/wiki/Google_Chrome)网页浏览器的引擎。

[Google](https://zh.wikipedia.org/wiki/Google)最初使用WebKit用于[Chrome](https://zh.wikipedia.org/wiki/Google_Chrome)浏览器，但最终将其分支为自行建构的[Blink](https://zh.wikipedia.org/wiki/Blink)引擎。所有以[Chromium](https://zh.wikipedia.org/wiki/Chromium)为基础的浏览器都使用Blink，使用[CEF](https://zh.wikipedia.org/wiki/Chromium嵌入式框架)，[Electron](https://zh.wikipedia.org/wiki/Electron)或任何其他Chromium嵌入式[框架](https://zh.wikipedia.org/wiki/框架)构建的应用程序也是如此。

[Internet Explorer](https://zh.wikipedia.org/wiki/Internet_Explorer)的网页浏览器引擎[Trident](https://zh.wikipedia.org/wiki/Trident_(排版引擎))，被[Microsoft Windows](https://zh.wikipedia.org/wiki/Microsoft_Windows)平台的许多应用程序如[Outlook Express](https://zh.wikipedia.org/wiki/Outlook_Express)、某些版本的[Microsoft Outlook](https://zh.wikipedia.org/wiki/Microsoft_Outlook)和[Winamp](https://zh.wikipedia.org/wiki/Winamp)、[RealPlayer](https://zh.wikipedia.org/wiki/RealPlayer)中的迷你浏览器所使用。Trident已经被[EdgeHTML](https://zh.wikipedia.org/wiki/EdgeHTML)所取代，2019年EdgeHTML被Blink取代。

[Opera软件公司](https://zh.wikipedia.org/wiki/Opera软件公司)的专有的[Presto](https://zh.wikipedia.org/wiki/Presto)引擎被授权给其他许多软件供应商，也在[Opera浏览器](https://zh.wikipedia.org/wiki/Opera瀏覽器)所使用，直到2013年被Blink取代。

下图是各浏览器内核任期年限：

![](.\images\ajwiz2nuabvttawu5nut0vp8esvmbv9.png)

总结一下，目前主流浏览器所使用的内核有：

- FireFox：Gecko
- Edge：Blink
- Opera：Blink
- Chrome：Blink
- Safari：Webkit

所以我们可以看到CSS常常会有-webkit-或-moz-这样的前缀，也就是为了适配这些CSS内核。实际上在以前还存在着-ms-来适配edge，或-o-来适配Opera，但是随着浏览器内核版本的统一，目前用到的也就-webkit-和-moz-了，但如果是在维护一些老项目可能要考虑的问题就多了一些。

### 浏览器内核什么时候支持JavaScript？

在JavaScript之前也存在着制作动态页面的脚本语言比如LiveScript、JScript，这些脚本语言都是基于ECMA规范进行设计的（ECMA规范就是定义能够支持动态页面设计的脚本语言语法规范）。

既然有那么多种脚本语言，为什么最后JavaScript脱颖而出了呢？

**主要的原因还是chrome的V8引擎的诞生使得JavaScript成为动态页面设计的主流**。

v8引擎的出现也是google公司给webkit代码库提交的一个划时代贡献，虽然之后google在基于webkit core的基础上延伸出了blink内核，但是其造成的影响是使得JavaScript成为所有浏览器公司设计动态页面的唯一选择（前端狂喜😋）。虽然并不是所有浏览器都使用V8引擎来解析JavaScript，比如FireFox使用的是SpiderMonkey引擎，Safari使用的是Nitro引擎，但其实后两者都借鉴了V8引擎的设计思路。

### 结语

从上面的内容我们可以看到chrome内核在浏览器的发展过程中起到一个举足轻重的作用，这也是我选择从chrome内核进行分析的原因之一。